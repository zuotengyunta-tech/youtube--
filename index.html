<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>@coachjoji 動画一覧</title>
  <style>
    body { font-family: sans-serif; }
    .video-item { cursor: pointer; margin-bottom: 20px; }
    img { max-width: 100%; display: block; }
    iframe { width: 100%; height: 315px; max-width: 560px; }
  </style>
</head>
<body>

<h1>@coachjoji（ジョージ・メンズコーチ）動画一覧</h1>
<div id="videos">読み込み中...</div>

<script>
// チャンネルID（確認済み）
const CHANNEL_ID = "UCcX5yZbOu6g4d0p9VZTqgOg";

// RSSフィードURL
const RSS_URL = `https://www.youtube.com/feeds/videos.xml?channel_id=${CHANNEL_ID}`;

async function loadVideos() {
  const container = document.getElementById("videos");
  try {
    const response = await fetch(RSS_URL);
    const text = await response.text();

    // RSS → XMLパース
    const parser = new DOMParser();
    const xml = parser.parseFromString(text, "application/xml");

    const entries = xml.getElementsByTagName("entry");

    container.innerHTML = "";

    for (let entry of entries) {
      const title = entry.getElementsByTagName("title")[0].textContent;
      const videoId = entry.getElementsByTagName("yt:videoId")[0].textContent;
      const thumbnail = `https://i.ytimg.com/vi/${videoId}/mqdefault.jpg`;

      const div = document.createElement("div");
      div.className = "video-item";

      div.innerHTML = `
        <img src="${thumbnail}" alt="${title}">
        <p>${title}</p>
      `;

      div.onclick = () => {
        div.innerHTML = `
          <iframe
            src="https://www.youtube.com/embed/${videoId}?rel=0"
            frameborder="0"
            allowfullscreen>
          </iframe>
        `;
      };

      container.appendChild(div);
    }

  } catch (e) {
    container.innerText = "読み込みエラー: " + e.message;
  }
}

loadVideos();
</script>

</body>
</html>
